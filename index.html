<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-Rex Палеонтологический Квест</title>
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- AR.js -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <!-- Наши стили -->
    <link rel="stylesheet" href="css/style.css">
</head>
<!-- Индикаторы статуса -->
<div id="camera-indicator" class="camera-indicator inactive">
    Камера: выкл
</div>

<div id="marker-indicator" class="marker-indicator searching">
    Маркер: поиск
</div>
<body>
    <!-- Загрузчик -->
    <div id="loading" class="loading">
        <div class="loading-content">
            <h2>T-Rex Палеонтологический Квест</h2>
            <p>Наведите камеру на маркер музея</p>
            <div id="camera-status">Запрос доступа к камере...</div>
            <button id="start-camera" class="camera-btn">Разрешить камеру</button>
        </div>
    </div>

    <!-- AR сцена -->
    <a-scene 
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; precision: medium;"
        embedded 
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
        id="ar-scene">
        
        <!-- Маркер для отслеживания -->
        <a-marker 
            type="pattern" 
            url="assets/markers/pattern-marker.patt"
            id="ar-marker">
            
            <!-- 3D модель T-Rex -->
            <a-entity 
                gltf-model="assets/models/trex.glb"
                scale="0.5 0.5 0.5"
                position="0 0.5 0"
                rotation="0 180 0"
                animation="property: rotation; to: 0 540 0; loop: true; dur: 15000"
                id="trex-model">
            </a-entity>
            
        </a-marker>
        
        <!-- Камера -->
        <a-entity camera></a-entity>
    </a-scene>

    <!-- Панель с вопросом -->
    <div id="question-panel" class="question-panel hidden">
        <div class="panel-content">
            <h2>Палеонтологический вопрос:</h2>
            <p><strong>Когда жил Тираннозавр Рекс?</strong></p>
            <button class="option-btn" data-answer="1">Юрский период</button>
            <button class="option-btn" data-answer="2">Меловой период</button>
            <div id="feedback" class="feedback"></div>
        </div>
    </div>

    <!-- Наши скрипты -->
    <script src="js/app.js"></script>
</body>
</html>